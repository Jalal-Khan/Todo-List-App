@model Todo_List_App.Models.IndexViewModel
@using System.Linq
<div style="display:flex;flex-direction:column">
    <div class="card">
        <h5 class="card-header">To Do List</h5>
        <div class="card-body">
            <!-- SEARCH BAR -->
            <form method="get" asp-action="Search">
                <div class="search">
                    <input type="search" class="search__input" placeholder="Search Here" value="@ViewData["SearchString"]" name="searchString">
                    <button class="search__button">
                        <svg class="search__icon" aria-hidden="true" viewBox="0 0 24 24">
                            <g>
                                <path d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"></path>
                            </g>
                        </svg>
                    </button>
                </div>
            </form>
            <!-- END OF SEARCH BAR -->
            
            <div class="parent">
                <div style="display:flex; flex-direction:column">
                    @foreach(var task in Model.Tasks)
                    {
                        if(task.IsSelected==false)
                             {
                                <div class="checkbox-wrapper">
                                    <form asp-action="UpdateSelectedStatus" asp-controller="Home" method="post">
                                        <input value="@task.Id" name="id" style="display:none" />
                                        <input id="@task.Id" type="checkbox" name="myCheckbox" checked="@task.IsSelected" value="@task.IsSelected" oninput="this.parentElement.submit();" />
                                        <label for="@task.Id" class="@((task.IsSelected) ? "strikethrough" : "")" value="@task.Id" name="id">@task.Text</label>
                                    </form>
                                    <form asp-action="Delete">
                                        <input value="@task.Id" name="id" style="display:none" />
                                       @* <input class="button--submit" value="Delete" type="submit">*@
                                       <button class="btn">
                                        <svg viewBox="0 0 15 17.5" height="17.5" width="15" xmlns="http://www.w3.org/2000/svg" class="icon">
                                            <path transform="translate(-2.5 -1.25)" d="M15,18.75H5A1.251,1.251,0,0,1,3.75,17.5V5H2.5V3.75h15V5H16.25V17.5A1.251,1.251,0,0,1,15,18.75ZM5,5V17.5H15V5Zm7.5,10H11.25V7.5H12.5V15ZM8.75,15H7.5V7.5H8.75V15ZM12.5,2.5h-5V1.25h5V2.5Z" id="Fill"></path>
                                        </svg>
                                    </button>
                                    </form>
                                </div>
                              }
                    }
                    @{
                        bool flag = Model.Tasks.Any((x) => x.IsSelected == true);                    
                        if(flag==true)
                        {
                            <div><label style="display:flex">Completed</label></div>
                        }
                    }
                    
                    @foreach (var task in Model.Tasks)
                    {
                        if (task.IsSelected == true)
                        {
                            @*<label style="display:flex;">Completed</label>*@
                            <div class="checkbox-wrapper">
                                <form asp-action="UpdateSelectedStatus" asp-controller="Home" method="post">
                                    <input value="@task.Id" name="id" style="display:none" />
                                    <input id="@task.Id" type="checkbox" name="myCheckbox" checked="@task.IsSelected" value="@task.IsSelected" oninput="this.parentElement.submit();" />
                                    <label for="@task.Id" class="@((task.IsSelected) ? "strikethrough" : "")" value="@task.Id" name="id">@task.Text</label>
                                </form>
@*                                <form asp-action="Edit">
                                    <input value="@task.Id" name="id" style="display:none" />
                                    <input class="button--submit" value="Edit" type="submit">
                                </form>*@
                                <form asp-acion="Edit" class="btn">
                                    <img src="icons/edit.svg" class="btn" height="10" />
                                </form>
                                

                                <a href="@Url.RouteUrl("icons", new { iconName = "edit" })">Link to SVG Icon</a>

                               
                               
                                <form asp-acion="Delete">
                                    <input value="@task.Id" name="id" style="display:none" />
                                    <button class="btn">
                                        <svg viewBox="0 0 15 17.5" height="17.5" width="15" xmlns="http://www.w3.org/2000/svg" class="icon">
                                            <path transform="translate(-2.5 -1.25)" d="M15,18.75H5A1.251,1.251,0,0,1,3.75,17.5V5H2.5V3.75h15V5H16.25V17.5A1.251,1.251,0,0,1,15,18.75ZM5,5V17.5H15V5Zm7.5,10H11.25V7.5H12.5V15ZM8.75,15H7.5V7.5H8.75V15ZM12.5,2.5h-5V1.25h5V2.5Z" id="Fill"></path>
                                        </svg>
                                    </button>
                                </form>
                            </div>
                        }
                        
                    }
                </div>
            </div>
            <!-- CLEAR ALL BUTTON -->
            <form>
                <input class="button--submit" value="Clear All" type="submit" asp-action="ClearList">
            </form>
            <!--END OF CLEAR ALL BUTTON -->
            <!-- ADD A TASK -->
            <div class="input-group">
                <form method="post" asp-action="Add">
                    <input type="text" class="input" value="@ViewData["TaskString"]" name="taskString" id="Email" name="Email" placeholder="Add new todo it" autocomplete="off">
                    <input class="button--submit" value="+Add" type="submit">
                </form>
            </div>
            <!-- END OF ADD A TASK -->
        </div>
    </div>

    <br />

    <img src="icons/edit.svg"/>

 @*   <div class="card">
        <h5 class="card-header">To Do List</h5>
        <div class="card-body">
            <!-- SEARCH BAR -->
            <form method="get" asp-action="Search">
                <div class="search">
                    <input type="search" class="search__input" placeholder="Search Here" value="@ViewData["SearchString"]" name="searchString"
                           style="height:19px;">
                    <button class="search__button">
                        <svg class="search__icon" aria-hidden="true" viewBox="0 0 24 24" style=" height: 1em;
                             width: 1em;">
                            <g>
                                <path d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"></path>
                            </g>
                        </svg>
                    </button>
                </div>
            </form>
            <!-- END OF SEARCH BAR -->

            <div class="parent">
                <div style="display:flex; flex-direction:column">
                    @foreach (var task in Model.Tasks)
                    {
                        if (task.IsSelected == false)
                        {
                            <div class="checkbox-wrapper">
                                <form asp-action="UpdateSelectedStatus" asp-controller="Home" method="post">
                                    <input value="@task.Id" name="id" style="display:none" />
                                    <input id="@task.Id" type="checkbox" name="myCheckbox" checked="@task.IsSelected" value="@task.IsSelected" oninput="this.parentElement.submit();" />
                                    <label for="@task.Id" class="@((task.IsSelected) ? "strikethrough" : "")" value="@task.Id" name="id">@task.Text</label>
                                </form>
                            </div>
                        }
                    }

                    <label style="display:flex">Completed</label>
                    @foreach (var task in Model.Tasks)
                    {
                        if (task.IsSelected == true)
                        {
                            <div class="checkbox-wrapper">
                                <form asp-action="UpdateSelectedStatus" asp-controller="Home" method="post">
                                    <input value="@task.Id" name="id" style="display:none" />
                                    <input id="@task.Id" type="checkbox" name="myCheckbox" checked="@task.IsSelected" value="@task.IsSelected" oninput="this.parentElement.submit();" />
                                    <label for="@task.Id" class="@((task.IsSelected) ? "strikethrough" : "")" value="@task.Id" name="id">@task.Text</label>
                                </form>
                            </div>
                        }
                    }
                </div>
            </div>
        </div>
*@